---
import ProjectBoard from "../components/projectBoard/projectBoard.astro";
import TaskBoard from "../components/taskBoard/taskBoard.astro";

import '../styles/global.css'
import BoardHeader from "../components/boardHeader.astro";

---

<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TaskRonaut</title>
    <link rel="icon" type="image/x-icon" href="/favicon.svg"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
          integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>
</head>

<body>
<script>

    import 'htmx.org';
    import Alpine from 'alpinejs';

    document.addEventListener('alpine:init', () => {
        Alpine.start();
    });


    import {sessionId} from './user.js';

    if (document.cookie.includes('sessionId') === null) {
        window.location.href = `/getCookies`;
    }

    if (sessionId === null) {
        window.location.href = `/login`;
    }
</script>

<main class="content" x-data="{ showProjectBoard: true }">
    <div class="main">
        <BoardHeader></BoardHeader>
        <p>1</p>
        <div class="board" x-show="!showProjectBoard">
            <TaskBoard></TaskBoard>
            <p>2 tas</p>
        </div>
        <div class="board" x-show="showProjectBoard">
            <p>2 proj</p>
            <ProjectBoard></ProjectBoard>
        </div>
    </div>
</main>
</body>
</html>